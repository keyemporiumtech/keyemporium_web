<div class="container-fluid">
	<h4>Modulo authentication</h4>
	<div class="row">
		<div class="col col-12">
			<a class="m-2 btn btn-sm btn-danger text-white" (click)="set('REFERENCE')"
				>Componente reference</a
			>
			<span class="m-2">|</span>
			<a class="m-2 btn btn-sm btn-danger text-white" (click)="verifyToken()">Verifica token</a>
			<span class="m-2">|</span>
			<a class="m-2 btn btn-sm btn-danger text-white" (click)="set('LOGIN')">Test login</a>
			<span class="m-2">|</span>
			<a class="m-2 btn btn-sm btn-danger text-white" (click)="set('VERIFY')">Test login con pin</a>
			<span class="m-2">|</span>
			<button
				class="m-2 btn btn-sm btn-danger text-white"
				(click)="set('PROFILES')"
				[disabled]="!enableProfiles"
			>
				Vedi i profili e i permessi
			</button>
			<span class="m-2">|</span>
			<button
				class="m-2 btn btn-sm btn-danger text-white"
				(click)="logout()"
				[disabled]="!enableProfiles"
			>
				Logout
			</button>
			<span class="m-2">|</span>
			<a class="m-2 btn btn-sm btn-danger text-white" (click)="set('USER-OAUTH')"
				>Test Oauth external</a
			>
			<span class="m-2">|</span>
			<button class="m-2 btn btn-sm btn-danger text-white" (click)="set('A2FA')">
				Test Generatore Codici Auth 2FA
			</button>
			<span class="m-2">|</span>
			<button class="m-2 btn btn-sm btn-danger text-white" (click)="set('A2FA_VERIFY')">
				Test Verifica Codici Auth 2FA
			</button>
		</div>
		<div class="row">
			<div class="col col-12"><strong>Clienttoken:</strong> {{ currentToken }}</div>
		</div>
	</div>

	<div *ngIf="view" class="row mt-3" style="border: 1px #000 solid">
		<div class="col col-12 p-2">
			<a class="btn btn-sm btn-dark text-white float-right" (click)="set(undefined)">X</a>
			<wiki-test-input-reference *ngIf="view === 'REFERENCE'"></wiki-test-input-reference>
			<wiki-test-login *ngIf="view === 'LOGIN'"></wiki-test-login>
			<wiki-test-verify *ngIf="view === 'VERIFY'"></wiki-test-verify>
			<wiki-test-profiles *ngIf="view === 'PROFILES' && enableProfiles"></wiki-test-profiles>
			<wiki-test-user-oauth *ngIf="view === 'USER-OAUTH'"></wiki-test-user-oauth>
			<wiki-test-a2fa *ngIf="view === 'A2FA'"></wiki-test-a2fa>
			<wiki-test-a2fa-check *ngIf="view === 'A2FA_VERIFY'"></wiki-test-a2fa-check>
		</div>
	</div>
</div>

<div *ngIf="resultVerify" class="row mt-3" style="border: 1px #000 solid">
	<div class="col col-12 p-2" [innerHTML]="resultVerify"></div>
</div>
